"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const execute_update_record_1 = __importDefault(require("./execute-update-record"));
const get_actions_1 = __importDefault(require("../get-actions"));
class UpdateRecordActionsPlugin {
}
exports.default = UpdateRecordActionsPlugin;
UpdateRecordActionsPlugin.VERSION = '1.0.0';
UpdateRecordActionsPlugin.FEATURE = 'update-record-actions';
UpdateRecordActionsPlugin.addUpdateRecordActions = (datasourceCustomizer, _, modelCustomizations) => {
    const actions = (0, get_actions_1.default)('update-record', modelCustomizations);
    actions.forEach(action => {
        const collection = datasourceCustomizer.findCollection(action.modelName);
        if (!collection)
            return;
        collection.addAction(action.name, {
            scope: action.configuration.scope,
            execute: context => (0, execute_update_record_1.default)(action, context),
        });
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBkYXRlLXJlY29yZC1wbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvc2VydmljZXMvbW9kZWwtY3VzdG9taXphdGlvbnMvYWN0aW9ucy91cGRhdGUtcmVjb3JkL3VwZGF0ZS1yZWNvcmQtcGx1Z2luLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBTUEsb0ZBQTBEO0FBQzFELGlFQUF3QztBQUV4QyxNQUFxQix5QkFBeUI7O0FBQTlDLDRDQXdCQztBQXZCZSxpQ0FBTyxHQUFHLE9BQU8sQ0FBQztBQUNsQixpQ0FBTyxHQUFHLHVCQUF1QixDQUFDO0FBRWxDLGdEQUFzQixHQUFpQyxDQUNuRSxvQkFBb0IsRUFDcEIsQ0FBQyxFQUNELG1CQUFtQixFQUNuQixFQUFFO0lBQ0YsTUFBTSxPQUFPLEdBQUcsSUFBQSxxQkFBVSxFQUN4QixlQUFlLEVBQ2YsbUJBQW1CLENBQ3BCLENBQUM7SUFFRixPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ3ZCLE1BQU0sVUFBVSxHQUFHLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPO1FBRXhCLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtZQUNoQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFLO1lBQ2pDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUEsK0JBQW1CLEVBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQztTQUN6RCxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyJ9